/// @file LogManager.swift
/// @brief Centralized logging manager for debugging
/// @author BlackboxPlayer Development Team
/// @details
/*
 â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 â•‘                                                                              â•‘
 â•‘                         LogManager - ì¤‘ì•™ ì§‘ì¤‘ì‹ ë¡œê·¸ ì‹œìŠ¤í…œ                    â•‘
 â•‘                                                                              â•‘
 â•‘  ëª©ì :                                                                        â•‘
 â•‘    ì•± ì „ì²´ì˜ ë¡œê·¸ ë©”ì‹œì§€ë¥¼ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•˜ê³  UIì— ì‹¤ì‹œê°„ í‘œì‹œí•©ë‹ˆë‹¤.               â•‘
 â•‘    ë””ë²„ê¹…, ë¬¸ì œ ì¶”ì , ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ì— í•„ìˆ˜ì ì¸ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.                    â•‘
 â•‘                                                                              â•‘
 â•‘  í•µì‹¬ ê¸°ëŠ¥:                                                                   â•‘
 â•‘    â€¢ íƒ€ì„ìŠ¤íƒ¬í”„ê°€ í¬í•¨ëœ ë¡œê·¸ ë©”ì‹œì§€ ì €ì¥                                        â•‘
 â•‘    â€¢ ë¡œê·¸ ë ˆë²¨ ë¶„ë¥˜ (DEBUG, INFO, WARNING, ERROR)                             â•‘
 â•‘    â€¢ ìŠ¤ë ˆë“œ ì•ˆì „í•œ ë¡œê·¸ ì €ì¥                                                   â•‘
 â•‘    â€¢ ìµœëŒ€ 500ê°œ ë¡œê·¸ ìœ ì§€ (ìˆœí™˜ ë²„í¼)                                          â•‘
 â•‘    â€¢ SwiftUIì—ì„œ ì‹¤ì‹œê°„ ê´€ì°° ê°€ëŠ¥                                              â•‘
 â•‘                                                                              â•‘
 â•‘  ì„¤ê³„ íŒ¨í„´:                                                                   â•‘
 â•‘    â€¢ Singleton íŒ¨í„´: ì•± ì „ì²´ì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì‚¬ìš©                          â•‘
 â•‘    â€¢ Observer íŒ¨í„´: SwiftUI ë·°ê°€ ë¡œê·¸ ë³€ê²½ì‚¬í•­ ìë™ ê°ì§€                        â•‘
 â•‘    â€¢ Thread-Safe: NSLockìœ¼ë¡œ ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ì•ˆì „í•˜ê²Œ ë™ì‘                   â•‘
 â•‘                                                                              â•‘
 â•‘  ì‚¬ìš© ì˜ˆ:                                                                     â•‘
 â•‘    ```swift                                                                  â•‘
 â•‘    // ê°„ë‹¨í•œ ë¡œê·¸                                                             â•‘
 â•‘    debugLog("Video decoding started")                                        â•‘
 â•‘    infoLog("File loaded successfully")                                       â•‘
 â•‘    warningLog("Low memory warning")                                          â•‘
 â•‘    errorLog("Failed to open file")                                           â•‘
 â•‘                                                                              â•‘
 â•‘    // SwiftUIì—ì„œ ë¡œê·¸ í‘œì‹œ                                                   â•‘
 â•‘    struct DebugView: View {                                                  â•‘
 â•‘        @ObservedObject var logger = LogManager.shared                        â•‘
 â•‘                                                                              â•‘
 â•‘        var body: some View {                                                 â•‘
 â•‘            List(logger.logs) { log in                                        â•‘
 â•‘                Text(log.formattedMessage)                                    â•‘
 â•‘            }                                                                 â•‘
 â•‘        }                                                                     â•‘
 â•‘    }                                                                         â•‘
 â•‘    ```                                                                       â•‘
 â•‘                                                                              â•‘
 â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ë¡œê¹… ì‹œìŠ¤í…œì´ë€? ì™œ í•„ìš”í•œê°€?                                                   â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 ë¡œê¹…(Logging)ì€ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì¤‘ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ print() vs LogManager                                                     â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                                                                           â”‚
 â”‚ print()ì˜ ë¬¸ì œì :                                                          â”‚
 â”‚   â€¢ ë¡œê·¸ê°€ ì½˜ì†”ì—ë§Œ ì¶œë ¥ë¨ â†’ ì‚¬ìš©ìê°€ ë³¼ ìˆ˜ ì—†ìŒ                              â”‚
 â”‚   â€¢ íƒ€ì„ìŠ¤íƒ¬í”„ ì—†ìŒ â†’ ì–¸ì œ ë°œìƒí–ˆëŠ”ì§€ ëª¨ë¦„                                   â”‚
 â”‚   â€¢ ë ˆë²¨ êµ¬ë¶„ ì—†ìŒ â†’ ì¤‘ìš”ë„ íŒë‹¨ ë¶ˆê°€                                        â”‚
 â”‚   â€¢ ê²€ìƒ‰/í•„í„°ë§ ë¶ˆê°€ â†’ ì›í•˜ëŠ” ë¡œê·¸ ì°¾ê¸° ì–´ë ¤ì›€                                â”‚
 â”‚   â€¢ ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë©”ì‹œì§€ ì„ì„                                           â”‚
 â”‚                                                                           â”‚
 â”‚ LogManagerì˜ ì¥ì :                                                         â”‚
 â”‚   â€¢ UIì— ì‹¤ì‹œê°„ í‘œì‹œ â†’ ì‚¬ìš©ì/ê°œë°œì ëª¨ë‘ í™•ì¸ ê°€ëŠ¥                            â”‚
 â”‚   â€¢ ì •í™•í•œ íƒ€ì„ìŠ¤íƒ¬í”„ â†’ ì‹œê°„ìˆœ ì¶”ì  ê°€ëŠ¥                                      â”‚
 â”‚   â€¢ ë¡œê·¸ ë ˆë²¨ â†’ ì¤‘ìš”ë„ë³„ í•„í„°ë§ ê°€ëŠ¥                                          â”‚
 â”‚   â€¢ ë©”ëª¨ë¦¬ì— ì €ì¥ â†’ ê²€ìƒ‰/ë¶„ì„ ê°€ëŠ¥                                           â”‚
 â”‚   â€¢ ìŠ¤ë ˆë“œ ì•ˆì „ â†’ ë©”ì‹œì§€ ìˆœì„œ ë³´ì¥                                           â”‚
 â”‚                                                                           â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


 ì‹¤ì œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:

 1. ë””ë²„ê¹… (Debugging)
 ë¬¸ì œ ë°œìƒ ì‹œ ì–´ë””ì„œ ì™œ ë°œìƒí–ˆëŠ”ì§€ ì¶”ì 
 ì˜ˆ: "Video decoding failed at frame 1523"

 2. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
 ê° ë‹¨ê³„ì˜ ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
 ì˜ˆ: "File scan completed in 2.3 seconds"

 3. ì‚¬ìš©ì ì§€ì›
 ì‚¬ìš©ìê°€ ë¬¸ì œ ë°œìƒ ì‹œ ë¡œê·¸ë¥¼ ê³µìœ í•˜ì—¬ ì›ê²© ì§€ì›
 ì˜ˆ: ì‚¬ìš©ìê°€ "ì¬ìƒ ì•ˆ ë¨" ë³´ê³  â†’ ë¡œê·¸ í™•ì¸ â†’ "Codec not supported" ë°œê²¬

 4. ê°ì‚¬ ë¡œê·¸ (Audit Log)
 ì¤‘ìš”í•œ ì‘ì—… ê¸°ë¡
 ì˜ˆ: "User deleted 10 files at 14:32:15"


 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ë¡œê·¸ ë ˆë²¨ (Log Level) ë¶„ë¥˜                                                     â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 ë¡œê·¸ëŠ” ì¤‘ìš”ë„ì— ë”°ë¼ 4ë‹¨ê³„ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤:

 1. DEBUG (ë””ë²„ê·¸)
 â€¢ ê°€ì¥ ìƒì„¸í•œ ì •ë³´
 â€¢ ê°œë°œ ì¤‘ì—ë§Œ ì‚¬ìš©
 â€¢ í”„ë¡œë•ì…˜ì—ì„œëŠ” ë¹„í™œì„±í™”
 â€¢ ì˜ˆ: "Entered function parseGPSData()"

 2. INFO (ì •ë³´)
 â€¢ ì¼ë°˜ì ì¸ ì •ë³´ ë©”ì‹œì§€
 â€¢ ì •ìƒ ë™ì‘ í™•ì¸ìš©
 â€¢ í”„ë¡œë•ì…˜ì—ì„œë„ í™œì„±í™”
 â€¢ ì˜ˆ: "Video file loaded successfully"

 3. WARNING (ê²½ê³ )
 â€¢ ì ì¬ì  ë¬¸ì œ
 â€¢ ë™ì‘ì€ ê³„ì†ë˜ì§€ë§Œ ì£¼ì˜ í•„ìš”
 â€¢ ì˜ˆ: "Low memory warning: 90% used"

 4. ERROR (ì˜¤ë¥˜)
 â€¢ ì‹¬ê°í•œ ë¬¸ì œ
 â€¢ ê¸°ëŠ¥ ë™ì‘ ì‹¤íŒ¨
 â€¢ ì¦‰ì‹œ í•´ê²° í•„ìš”
 â€¢ ì˜ˆ: "Failed to initialize decoder: file not found"


 ì‹¤ì œ ì‚¬ìš© ì˜ˆ:
 ```swift
 func loadVideoFile(_ path: String) throws {
 debugLog("loadVideoFile() called with path: \(path)")

 guard FileManager.default.fileExists(atPath: path) else {
 errorLog("File not found: \(path)")
 throw FileError.notFound
 }

 infoLog("File found, starting to load...")

 if memoryUsage > 0.9 {
 warningLog("High memory usage: \(memoryUsage * 100)%")
 }

 // ... ë¡œë”© ë¡œì§ ...

 infoLog("Video file loaded successfully")
 }
 ```
 */

import Foundation
import Combine

// MARK: - LogEntry êµ¬ì¡°ì²´

/// @struct LogEntry
/// @brief ê°œë³„ ë¡œê·¸ í•­ëª© (íƒ€ì„ìŠ¤íƒ¬í”„ + ë©”ì‹œì§€ + ë ˆë²¨)
///
/// ì´ êµ¬ì¡°ì²´ëŠ” í•˜ë‚˜ì˜ ë¡œê·¸ ë©”ì‹œì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
///
/// - Note: Identifiable í”„ë¡œí† ì½œ
///   SwiftUIì˜ Listë‚˜ ForEachì—ì„œ ê° í•­ëª©ì„ ê³ ìœ í•˜ê²Œ ì‹ë³„í•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤.
///   id í”„ë¡œí¼í‹°ê°€ ìë™ìœ¼ë¡œ UUIDë¥¼ ìƒì„±í•˜ì—¬ ê° ë¡œê·¸ë¥¼ êµ¬ë¶„í•©ë‹ˆë‹¤.
///
/// - Important: êµ¬ì¡°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
///   â€¢ Value Type: ë³µì‚¬ ì‹œ ë…ë¦½ì ì¸ ê°’ ìƒì„± â†’ ìŠ¤ë ˆë“œ ì•ˆì „
///   â€¢ ë¶ˆë³€ì„±: í•œë²ˆ ìƒì„±ëœ ë¡œê·¸ëŠ” ë³€ê²½ ë¶ˆê°€ â†’ ë°ì´í„° ë¬´ê²°ì„±
///   â€¢ ê°€ë²¼ì›€: í´ë˜ìŠ¤ë³´ë‹¤ ë©”ëª¨ë¦¬ íš¨ìœ¨ì 
///
/// ì‚¬ìš© ì˜ˆ:
/// ```swift
/// let entry = LogEntry(
///     timestamp: Date(),
///     message: "Video started",
///     level: .info
/// )
///
/// // SwiftUIì—ì„œ ì‚¬ìš©
/// List(logs) { entry in  // id ìë™ ì‚¬ìš©
///     Text(entry.formattedMessage)
/// }
/// ```
///
/// - SeeAlso: `LogManager`, `LogLevel`
struct LogEntry: Identifiable {
    // MARK: í”„ë¡œí¼í‹°

    /// @var id
    /// @brief ê³ ìœ  ì‹ë³„ì (SwiftUI Listìš©)
    ///
    /// UUID: ë²”ìš© ê³ ìœ  ì‹ë³„ì (Universally Unique Identifier)
    /// - 128ë¹„íŠ¸ ìˆ«ì
    /// - ì¤‘ë³µ í™•ë¥ : 1/(2^128) â‰ˆ 0% (ì‚¬ì‹¤ìƒ ë¶ˆê°€ëŠ¥)
    /// - ì˜ˆ: "550e8400-e29b-41d4-a716-446655440000"
    ///
    /// ì™œ UUIDë¥¼ ì‚¬ìš©í•˜ë‚˜?
    /// - timestampë§Œìœ¼ë¡œëŠ” ê°™ì€ ë°€ë¦¬ì´ˆì— ìƒì„±ëœ ë¡œê·¸ êµ¬ë¶„ ë¶ˆê°€
    /// - ë°°ì—´ ì¸ë±ìŠ¤ëŠ” ì‚­ì œ ì‹œ ë³€ê²½ë¨
    /// - UUIDëŠ” ì ˆëŒ€ ë³€í•˜ì§€ ì•ŠëŠ” ì˜êµ¬ ì‹ë³„ì
    let id = UUID()

    /// @var timestamp
    /// @brief ë¡œê·¸ ìƒì„± ì‹œê°
    ///
    /// Date íƒ€ì…:
    /// - íŠ¹ì • ì‹œì ì„ ë‚˜íƒ€ë‚´ëŠ” ê°’
    /// - ë‚´ë¶€ì ìœ¼ë¡œ 2001-01-01 00:00:00 UTCë¶€í„°ì˜ ì´ˆ ë‹¨ìœ„ ì‹œê°„ì°¨
    /// - íƒ€ì„ì¡´ ì •ë³´ í¬í•¨ (ìë™ ë³€í™˜ ê°€ëŠ¥)
    ///
    /// ì‚¬ìš© ì˜ˆ:
    /// ```swift
    /// let now = Date()  // í˜„ì¬ ì‹œê°
    /// let formatter = DateFormatter()
    /// formatter.dateFormat = "yyyy-MM-dd HH:mm:ss"
    /// print(formatter.string(from: now))  // "2025-01-10 14:30:25"
    /// ```
    let timestamp: Date

    /// @var message
    /// @brief ë¡œê·¸ ë©”ì‹œì§€ ë‚´ìš©
    ///
    /// ë¡œê·¸ ë©”ì‹œì§€ ì‘ì„± ê°€ì´ë“œ:
    /// 1. ëª…í™•í•˜ê³  êµ¬ì²´ì ìœ¼ë¡œ
    ///    ë‚˜ìœ ì˜ˆ: "Error occurred"
    ///    ì¢‹ì€ ì˜ˆ: "Failed to decode video frame 1523: codec not supported"
    ///
    /// 2. ì»¨í…ìŠ¤íŠ¸ í¬í•¨
    ///    ë‚˜ìœ ì˜ˆ: "File loaded"
    ///    ì¢‹ì€ ì˜ˆ: "Loaded video.mp4 (1920x1080, 60fps, 5 channels)"
    ///
    /// 3. ì¤‘ìš”í•œ ê°’ í¬í•¨
    ///    ì˜ˆ: "Memory usage: 85% (1.2GB / 1.4GB)"
    let message: String

    /// @var level
    /// @brief ë¡œê·¸ ë ˆë²¨ (DEBUG, INFO, WARNING, ERROR)
    ///
    /// ì´ ê°’ìœ¼ë¡œ ë¡œê·¸ì˜ ì¤‘ìš”ë„ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤.
    /// - DEBUG: ê°œë°œììš© ìƒì„¸ ì •ë³´
    /// - INFO: ì¼ë°˜ ì •ë³´
    /// - WARNING: ì£¼ì˜ í•„ìš”
    /// - ERROR: ì‹¬ê°í•œ ë¬¸ì œ
    ///
    /// ì‚¬ìš© ì˜ˆ:
    /// ```swift
    /// switch entry.level {
    /// case .debug:
    ///     color = .gray
    /// case .info:
    ///     color = .blue
    /// case .warning:
    ///     color = .orange
    /// case .error:
    ///     color = .red
    /// }
    /// ```
    let level: LogLevel

    // MARK: ê³„ì‚° í”„ë¡œí¼í‹°

    /// @var formattedMessage
    /// @brief í¬ë§·íŒ…ëœ ë¡œê·¸ ë©”ì‹œì§€ ë¬¸ìì—´
    ///
    /// ì¶œë ¥ í˜•ì‹: "[HH:mm:ss.SSS] [LEVEL] message"
    /// ì˜ˆ: "[14:30:25.123] [INFO] Video file loaded"
    ///
    /// - Returns: íƒ€ì„ìŠ¤íƒ¬í”„, ë ˆë²¨, ë©”ì‹œì§€ê°€ í¬í•¨ëœ ì™„ì „í•œ ë¡œê·¸ ë¬¸ìì—´
    ///
    /// - Note: ê³„ì‚° í”„ë¡œí¼í‹°
    ///   ì €ì¥ë˜ì§€ ì•Šê³  í˜¸ì¶œë  ë•Œë§ˆë‹¤ ë‹¤ì‹œ ê³„ì‚°ë©ë‹ˆë‹¤.
    ///   ë§¤ë²ˆ DateFormatterë¥¼ ìƒì„±í•˜ë¯€ë¡œ ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ê²½ìš° ìºì‹± ê³ ë ¤.
    ///
    /// DateFormatter ì„¤ëª…:
    /// ```swift
    /// let formatter = DateFormatter()
    /// formatter.dateFormat = "HH:mm:ss.SSS"
    /// // HH: 24ì‹œê°„ í˜•ì‹ ì‹œê°„ (00-23)
    /// // mm: ë¶„ (00-59)
    /// // ss: ì´ˆ (00-59)
    /// // SSS: ë°€ë¦¬ì´ˆ (000-999)
    ///
    /// let now = Date()
    /// formatter.string(from: now)  // "14:30:25.123"
    /// ```
    ///
    /// ë‹¤ì–‘í•œ ë‚ ì§œ í¬ë§· ì˜ˆì œ:
    /// - "yyyy-MM-dd" â†’ "2025-01-10"
    /// - "yyyyë…„ MMì›” ddì¼" â†’ "2025ë…„ 01ì›” 10ì¼"
    /// - "HH:mm:ss" â†’ "14:30:25"
    /// - "a hh:mm:ss" â†’ "ì˜¤í›„ 02:30:25"
    var formattedMessage: String {
        // DateFormatter ìƒì„±
        // - Dateë¥¼ Stringìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë„êµ¬
        // - ë¡œì¼€ì¼(ì§€ì—­), íƒ€ì„ì¡´ ë“±ì„ ê³ ë ¤í•œ í¬ë§·íŒ…
        let formatter = DateFormatter()

        // ë‚ ì§œ í¬ë§· ì§€ì •
        // HH:mm:ss.SSS = 14:30:25.123 í˜•ì‹
        formatter.dateFormat = "HH:mm:ss.SSS"

        // Date â†’ String ë³€í™˜
        let timeString = formatter.string(from: timestamp)

        // ìµœì¢… í¬ë§·: [ì‹œê°„] [ë ˆë²¨] ë©”ì‹œì§€
        // ì˜ˆ: "[14:30:25.123] [INFO] Video loaded"
        return "[\(timeString)] [\(level.displayName)] \(message)"
    }
}

// MARK: - LogLevel ì—´ê±°í˜•

/// @enum LogLevel
/// @brief ë¡œê·¸ ë ˆë²¨ ì—´ê±°í˜•
///
/// ë¡œê·¸ ë©”ì‹œì§€ì˜ ì¤‘ìš”ë„ë¥¼ 4ë‹¨ê³„ë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤.
///
/// - Note: String rawValue
///   ê° caseì— ëŒ€ì‘í•˜ëŠ” ë¬¸ìì—´ ê°’ì„ ê°€ì§‘ë‹ˆë‹¤.
///   ì˜ˆ: LogLevel.debug.rawValue â†’ "DEBUG"
///
/// - Important: ì—´ê±°í˜•ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
///   1. íƒ€ì… ì•ˆì „ì„±: ì˜¤íƒ€ ë°©ì§€ (ì˜ˆ: "DEBG" ë¶ˆê°€)
///   2. ìë™ì™„ì„±: Xcodeê°€ ê°€ëŠ¥í•œ ê°’ ì œì•ˆ
///   3. switch ì™„ì „ì„±: ëª¨ë“  case ì²˜ë¦¬ ê°•ì œ
///   4. í™•ì¥ ìš©ì´: ìƒˆë¡œìš´ ë ˆë²¨ ì¶”ê°€ ì‰¬ì›€
///
/// ì‚¬ìš© ì˜ˆ:
/// ```swift
/// // íƒ€ì… ì•ˆì „
/// log("Message", level: .info)  // âœ“ ì˜¬ë°”ë¦„
/// log("Message", level: "info")  // âœ— ì»´íŒŒì¼ ì—ëŸ¬
///
/// // switch ì™„ì „ì„± ê²€ì‚¬
/// switch level {
/// case .debug: ...
/// case .info: ...
/// case .warning: ...
/// case .error: ...
/// // ëª¨ë“  caseë¥¼ ì²˜ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬
/// }
/// ```
enum LogLevel: String {
    /// @brief DEBUG ë ˆë²¨: ìƒì„¸í•œ ë””ë²„ê¹… ì •ë³´
    ///
    /// ì‚¬ìš© ì‹œê¸°:
    /// - í•¨ìˆ˜ ì§„ì…/ì¢…ë£Œ ì¶”ì 
    /// - ë³€ìˆ˜ ê°’ ì¶œë ¥
    /// - ë‚´ë¶€ ìƒíƒœ í™•ì¸
    /// - ê°œë°œ ì¤‘ì—ë§Œ í™œì„±í™”
    ///
    /// ì˜ˆ:
    /// ```swift
    /// debugLog("Entering parseGPSData()")
    /// debugLog("GPS points count: \(points.count)")
    /// debugLog("Current state: \(state)")
    /// ```
    case debug = "DEBUG"

    /// @brief INFO ë ˆë²¨: ì¼ë°˜ ì •ë³´ ë©”ì‹œì§€
    ///
    /// ì‚¬ìš© ì‹œê¸°:
    /// - ì£¼ìš” ì‘ì—… ì™„ë£Œ
    /// - ì •ìƒ ë™ì‘ í™•ì¸
    /// - ì‚¬ìš©ì ì•¡ì…˜ ê¸°ë¡
    /// - í”„ë¡œë•ì…˜ì—ì„œë„ í™œì„±í™”
    ///
    /// ì˜ˆ:
    /// ```swift
    /// infoLog("Application started")
    /// infoLog("Video file loaded: video.mp4")
    /// infoLog("User opened settings")
    /// ```
    case info = "INFO"

    /// @brief WARNING ë ˆë²¨: ì ì¬ì  ë¬¸ì œ ê²½ê³ 
    ///
    /// ì‚¬ìš© ì‹œê¸°:
    /// - ë¹„ì •ìƒì´ì§€ë§Œ ì¹˜ëª…ì ì´ì§€ ì•Šì€ ìƒí™©
    /// - ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥ì„±
    /// - ë¦¬ì†ŒìŠ¤ ë¶€ì¡± ê²½ê³ 
    /// - ê¶Œì¥í•˜ì§€ ì•ŠëŠ” ì‚¬ìš© íŒ¨í„´
    ///
    /// ì˜ˆ:
    /// ```swift
    /// warningLog("Low memory: 90% used")
    /// warningLog("Deprecated API used")
    /// warningLog("Network latency high: 500ms")
    /// ```
    case warning = "WARNING"

    /// @brief ERROR ë ˆë²¨: ì‹¬ê°í•œ ì˜¤ë¥˜
    ///
    /// ì‚¬ìš© ì‹œê¸°:
    /// - ê¸°ëŠ¥ ë™ì‘ ì‹¤íŒ¨
    /// - ì˜ˆì™¸ ë°œìƒ
    /// - ë³µêµ¬ ë¶ˆê°€ëŠ¥í•œ ìƒí™©
    /// - ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš”
    ///
    /// ì˜ˆ:
    /// ```swift
    /// errorLog("Failed to open file: \(error)")
    /// errorLog("Database connection lost")
    /// errorLog("Out of memory")
    /// ```
    case error = "ERROR"

    /// @var displayName
    /// @brief í™”ë©´ í‘œì‹œìš© ë ˆë²¨ ì´ë¦„
    ///
    /// rawValueë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.
    /// í•„ìš” ì‹œ í•œê¸€ ë³€í™˜ ê°€ëŠ¥:
    /// ```swift
    /// var displayName: String {
    ///     switch self {
    ///     case .debug: return "ë””ë²„ê·¸"
    ///     case .info: return "ì •ë³´"
    ///     case .warning: return "ê²½ê³ "
    ///     case .error: return "ì˜¤ë¥˜"
    ///     }
    /// }
    /// ```
    var displayName: String {
        return self.rawValue
    }
}

// MARK: - LogManager í´ë˜ìŠ¤

/// @class LogManager
/// @brief ì¤‘ì•™ ì§‘ì¤‘ì‹ ë¡œê·¸ ê´€ë¦¬ì
///
/// ì•± ì „ì²´ì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì‚¬ìš©í•˜ëŠ” Singleton íŒ¨í„´ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.
///
/// - Note: ObservableObject
///   SwiftUIì™€ Combine í”„ë ˆì„ì›Œí¬ì˜ í•µì‹¬ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.
///   @Published í”„ë¡œí¼í‹°ê°€ ë³€ê²½ë˜ë©´ ìë™ìœ¼ë¡œ UIë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
///
/// - Important: í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
///   â€¢ Reference Type: ì•± ì „ì²´ì—ì„œ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ ê³µìœ 
///   â€¢ ObservableObject: êµ¬ì¡°ì²´ëŠ” ObservableObject ë¶ˆê°€
///   â€¢ Singleton: ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë°©ì§€
///
/// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
/// â”‚ Singleton íŒ¨í„´ì´ë€?                                                      â”‚
/// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
/// â”‚                                                                         â”‚
/// â”‚ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë”± í•˜ë‚˜ë§Œ ìƒì„±í•˜ë„ë¡ ë³´ì¥í•˜ëŠ” ë””ìì¸ íŒ¨í„´              â”‚
/// â”‚                                                                         â”‚
/// â”‚ êµ¬í˜„ ë°©ë²•:                                                               â”‚
/// â”‚   static let shared = LogManager()  // ìœ ì¼í•œ ì¸ìŠ¤í„´ìŠ¤                   â”‚
/// â”‚   private init() {}                 // ì™¸ë¶€ ìƒì„± ë°©ì§€                    â”‚
/// â”‚                                                                         â”‚
/// â”‚ ì‚¬ìš© ë°©ë²•:                                                               â”‚
/// â”‚   LogManager.shared.log("message")  // í•­ìƒ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©           â”‚
/// â”‚   let logger = LogManager()         // âœ— ì»´íŒŒì¼ ì—ëŸ¬ (init private)     â”‚
/// â”‚                                                                         â”‚
/// â”‚ ì™œ Singletonì„ ì‚¬ìš©í•˜ë‚˜?                                                 â”‚
/// â”‚   1. ì „ì—­ ì ‘ê·¼: ì–´ë””ì„œë“  ë¡œê·¸ ê¸°ë¡ ê°€ëŠ¥                                   â”‚
/// â”‚   2. ë©”ëª¨ë¦¬ ì ˆì•½: í•˜ë‚˜ì˜ ë¡œê·¸ ë°°ì—´ë§Œ ìœ ì§€                                 â”‚
/// â”‚   3. ì¼ê´€ì„±: ëª¨ë“  ë¡œê·¸ë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬                                   â”‚
/// â”‚   4. ìŠ¤ë ˆë“œ ì•ˆì „: ì¤‘ì•™ ì§‘ì¤‘ì‹ ë™ê¸°í™”                                      â”‚
/// â”‚                                                                         â”‚
/// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
///
/// SwiftUIì—ì„œ ì‚¬ìš©:
/// ```swift
/// struct DebugView: View {
///     @ObservedObject var logger = LogManager.shared
///
///     var body: some View {
///         List(logger.logs) { log in
///             Text(log.formattedMessage)
///                 .foregroundColor(colorForLevel(log.level))
///         }
///     }
/// }
/// ```
///
/// - SeeAlso: `LogEntry`, `LogLevel`
class LogManager: ObservableObject {

    // MARK: - Singleton ì¸ìŠ¤í„´ìŠ¤

    /// @var shared
    /// @brief ê³µìœ  ì¸ìŠ¤í„´ìŠ¤ (Singleton)
    ///
    /// static: íƒ€ì… ë ˆë²¨ í”„ë¡œí¼í‹° (í´ë˜ìŠ¤ì— ì†í•¨, ì¸ìŠ¤í„´ìŠ¤ì™€ ë¬´ê´€)
    /// let: ìƒìˆ˜ (í•œë²ˆ ì´ˆê¸°í™” í›„ ë³€ê²½ ë¶ˆê°€)
    ///
    /// ì‚¬ìš© ì˜ˆ:
    /// ```swift
    /// LogManager.shared.log("Hello")  // ì–´ë””ì„œë“  ì‚¬ìš© ê°€ëŠ¥
    ///
    /// // ì˜ëª»ëœ ì‚¬ìš©
    /// let logger1 = LogManager()  // âœ— initì´ privateì´ë¯€ë¡œ ë¶ˆê°€ëŠ¥
    /// ```
    static let shared = LogManager()

    // MARK: - Published í”„ë¡œí¼í‹°

    /// @var logs
    /// @brief ë¡œê·¸ í•­ëª© ë°°ì—´ (UIì— ì‹¤ì‹œê°„ ë°˜ì˜)
    ///
    /// @Published:
    /// - Combine í”„ë ˆì„ì›Œí¬ì˜ Property Wrapper
    /// - ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ì•Œë¦¼ ë°œí–‰
    /// - SwiftUIê°€ ì´ ì•Œë¦¼ì„ ë°›ì•„ ìë™ìœ¼ë¡œ UI ì—…ë°ì´íŠ¸
    ///
    /// private(set):
    /// - ì½ê¸°ëŠ” public, ì“°ê¸°ëŠ” private
    /// - ì™¸ë¶€ì—ì„œëŠ” ì¡°íšŒë§Œ ê°€ëŠ¥, ìˆ˜ì •ì€ ì´ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œë§Œ
    /// - ë°ì´í„° ë¬´ê²°ì„± ë³´ì¥
    ///
    /// ë™ì‘ ì›ë¦¬:
    /// ```
    /// logs.append(entry)  â†’  @Publishedê°€ ê°ì§€
    ///                    â†“
    ///            objectWillChange ì´ë²¤íŠ¸ ë°œí–‰
    ///                    â†“
    ///          SwiftUIê°€ ì´ë²¤íŠ¸ ìˆ˜ì‹ 
    ///                    â†“
    ///            bodyë¥¼ ë‹¤ì‹œ ì‹¤í–‰ (ì¬ë Œë”ë§)
    /// ```
    ///
    /// ì‚¬ìš© ì˜ˆ:
    /// ```swift
    /// // ì½ê¸° (ì–´ë””ì„œë“  ê°€ëŠ¥)
    /// let count = LogManager.shared.logs.count  // âœ“
    ///
    /// // ì“°ê¸° (ì™¸ë¶€ì—ì„œ ë¶ˆê°€ëŠ¥)
    /// LogManager.shared.logs.append(...)  // âœ— ì»´íŒŒì¼ ì—ëŸ¬
    ///
    /// // ì“°ê¸°ëŠ” ë©”ì„œë“œë¥¼ í†µí•´ì„œë§Œ
    /// LogManager.shared.log("message")  // âœ“
    /// ```
    @Published private(set) var logs: [LogEntry] = []

    // MARK: - Private í”„ë¡œí¼í‹°

    /// @var maxLogs
    /// @brief ìµœëŒ€ ë¡œê·¸ ê°œìˆ˜ (ìˆœí™˜ ë²„í¼)
    ///
    /// ì™œ ì œí•œì´ í•„ìš”í•œê°€?
    /// - ë¬´ì œí•œ ì €ì¥ ì‹œ ë©”ëª¨ë¦¬ ë¶€ì¡± ë°œìƒ ê°€ëŠ¥
    /// - ì˜¤ë˜ëœ ë¡œê·¸ëŠ” ì¤‘ìš”ë„ê°€ ë‚®ìŒ
    /// - UI ë Œë”ë§ ì„±ëŠ¥ ì €í•˜ ë°©ì§€
    ///
    /// ìˆœí™˜ ë²„í¼ (Circular Buffer):
    /// ```
    /// ìµœëŒ€ 3ê°œ ì €ì¥ ê°€ëŠ¥í•œ ê²½ìš°:
    ///
    /// [A]           â†’ A ì¶”ê°€
    /// [A, B]        â†’ B ì¶”ê°€
    /// [A, B, C]     â†’ C ì¶”ê°€ (ê°€ë“ ì°¸)
    /// [B, C, D]     â†’ D ì¶”ê°€ (A ì‚­ì œ, ê°€ì¥ ì˜¤ë˜ëœ ê²ƒ)
    /// [C, D, E]     â†’ E ì¶”ê°€ (B ì‚­ì œ)
    /// ```
    ///
    /// 500ê°œ ì„ íƒ ì´ìœ :
    /// - ì¼ë°˜ì ì¸ ë””ë²„ê¹… ì„¸ì…˜ì— ì¶©ë¶„
    /// - ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: ~100KB (ë¡œê·¸ë‹¹ 200ë°”ì´íŠ¸ ê°€ì •)
    /// - UI ë Œë”ë§ ë¶€ë‹´ ì ìŒ
    private let maxLogs = 500

    /// @var lock
    /// @brief ìŠ¤ë ˆë“œ ì•ˆì „ ë³´ì¥ì„ ìœ„í•œ ì ê¸ˆ ì¥ì¹˜
    ///
    /// NSLock:
    /// - ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ê³µìœ  ë¦¬ì†ŒìŠ¤ ë³´í˜¸
    /// - í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì ‘ê·¼ í—ˆìš©
    /// - ë°ì´í„° ê²½í•©(Data Race) ë°©ì§€
    ///
    /// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    /// â”‚ ë°ì´í„° ê²½í•© (Data Race) ì˜ˆì‹œ                                         â”‚
    /// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    /// â”‚                                                                     â”‚
    /// â”‚ NSLock ì—†ì„ ë•Œ:                                                      â”‚
    /// â”‚                                                                     â”‚
    /// â”‚ ìŠ¤ë ˆë“œ A: logs.append(entry1)                                        â”‚
    /// â”‚           â””â”€ logs í¬ê¸° í™•ì¸: 499ê°œ                                   â”‚
    /// â”‚           â””â”€ 500ë²ˆì§¸ ìœ„ì¹˜ì— entry1 ì¶”ê°€ ì‹œì‘...                       â”‚
    /// â”‚                                                                     â”‚
    /// â”‚ ìŠ¤ë ˆë“œ B: logs.append(entry2)  (ë™ì‹œì—!)                             â”‚
    /// â”‚           â””â”€ logs í¬ê¸° í™•ì¸: 499ê°œ  (Aê°€ ì•„ì§ ì™„ë£Œ ì•ˆ í•¨)             â”‚
    /// â”‚           â””â”€ 500ë²ˆì§¸ ìœ„ì¹˜ì— entry2 ì¶”ê°€ ì‹œì‘...                       â”‚
    /// â”‚                                                                     â”‚
    /// â”‚ ê²°ê³¼: ğŸ’¥ ì¶©ëŒ! entry1 ë˜ëŠ” entry2 ì¤‘ í•˜ë‚˜ ì†ì‹¤!                        â”‚
    /// â”‚                                                                     â”‚
    /// â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
    /// â”‚                                                                     â”‚
    /// â”‚ NSLock ì‚¬ìš© ì‹œ:                                                      â”‚
    /// â”‚                                                                     â”‚
    /// â”‚ ìŠ¤ë ˆë“œ A: lock.lock()     // ğŸ”’ ì ê¸ˆ                                  â”‚
    /// â”‚           logs.append(entry1)                                        â”‚
    /// â”‚           lock.unlock()   // ğŸ”“ í•´ì œ                                 â”‚
    /// â”‚                                                                     â”‚
    /// â”‚ ìŠ¤ë ˆë“œ B: lock.lock()     // â³ Aê°€ ëë‚  ë•Œê¹Œì§€ ëŒ€ê¸°...               â”‚
    /// â”‚           logs.append(entry2)  // A ì™„ë£Œ í›„ ì‹¤í–‰                     â”‚
    /// â”‚           lock.unlock()                                              â”‚
    /// â”‚                                                                     â”‚
    /// â”‚ ê²°ê³¼: âœ“ ì•ˆì „! ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬ë¨                                         â”‚
    /// â”‚                                                                     â”‚
    /// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    ///
    /// ì‚¬ìš© íŒ¨í„´:
    /// ```swift
    /// lock.lock()        // ì ê¸ˆ íšë“
    /// defer {
    ///     lock.unlock()  // í•¨ìˆ˜ ì¢…ë£Œ ì‹œ ìë™ í•´ì œ
    /// }
    /// // ë³´í˜¸í•  ì½”ë“œ
    /// logs.append(entry)
    /// ```
    private let lock = NSLock()

    // MARK: - ì´ˆê¸°í™”

    /// @brief Private ì´ˆê¸°í™” ë©”ì„œë“œ (Singleton íŒ¨í„´)
    ///
    /// private:
    /// - ì™¸ë¶€ì—ì„œ ìƒì„± ë¶ˆê°€ëŠ¥
    /// - LogManager()ë¡œ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ì‹œë„ ì‹œ ì»´íŒŒì¼ ì—ëŸ¬
    /// - ì˜¤ì§ shared ì¸ìŠ¤í„´ìŠ¤ë§Œ ì‚¬ìš© ê°€ëŠ¥
    ///
    /// ì™œ ë¹ˆ initì¸ê°€?
    /// - í”„ë¡œí¼í‹°ë“¤ì´ ëª¨ë‘ ì´ˆê¸°ê°’ì„ ê°€ì§€ê³  ìˆìŒ
    /// - logs = [] (ë¹ˆ ë°°ì—´)
    /// - maxLogs = 500 (ìƒìˆ˜)
    /// - lock = NSLock() (ìë™ ì´ˆê¸°í™”)
    /// - ì¶”ê°€ ì´ˆê¸°í™” ë¡œì§ ë¶ˆí•„ìš”
    private init() {}

    // MARK: - Public ë©”ì„œë“œ

    /// @brief ë¡œê·¸ ë©”ì‹œì§€ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤
    ///
    /// ì´ ë©”ì„œë“œëŠ” ìŠ¤ë ˆë“œ ì•ˆì „í•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
    /// ì—¬ëŸ¬ ìŠ¤ë ˆë“œì—ì„œ ë™ì‹œì— í˜¸ì¶œí•´ë„ ì•ˆì „í•©ë‹ˆë‹¤.
    ///
    /// @param message ê¸°ë¡í•  ë¡œê·¸ ë©”ì‹œì§€
    /// @param level ë¡œê·¸ ë ˆë²¨ (ê¸°ë³¸ê°’: .info)
    ///
    /// - Note: ë””í´íŠ¸ ë§¤ê°œë³€ìˆ˜
    ///   level = .info ë¶€ë¶„ì´ ë””í´íŠ¸ ë§¤ê°œë³€ìˆ˜ì…ë‹ˆë‹¤.
    ///   ìƒëµ ì‹œ ìë™ìœ¼ë¡œ .infoê°€ ì‚¬ìš©ë©ë‹ˆë‹¤.
    ///   ```swift
    ///   log("Hello")              // levelì€ .info
    ///   log("Error", level: .error)  // levelì€ .error
    ///   ```
    ///
    /// - Important: ë™ì‘ ìˆœì„œ
    ///   1. LogEntry ìƒì„± (í˜„ì¬ ì‹œê° ê¸°ë¡)
    ///   2. ì ê¸ˆ íšë“ (ë‹¤ë¥¸ ìŠ¤ë ˆë“œ ì°¨ë‹¨)
    ///   3. logs ë°°ì—´ì— ì¶”ê°€
    ///   4. 500ê°œ ì´ˆê³¼ ì‹œ ê°€ì¥ ì˜¤ë˜ëœ ë¡œê·¸ ì‚­ì œ
    ///   5. ì ê¸ˆ í•´ì œ (ë‹¤ë¥¸ ìŠ¤ë ˆë“œ í—ˆìš©)
    ///   6. ì½˜ì†”ì— ì¶œë ¥ (ë””ë²„ê¹…ìš©)
    ///
    /// ì‚¬ìš© ì˜ˆ:
    /// ```swift
    /// // ê¸°ë³¸ ì‚¬ìš© (INFO ë ˆë²¨)
    /// LogManager.shared.log("Video loaded")
    ///
    /// // ëª…ì‹œì  ë ˆë²¨ ì§€ì •
    /// LogManager.shared.log("Low memory", level: .warning)
    /// LogManager.shared.log("File not found", level: .error)
    ///
    /// // í¸ì˜ í•¨ìˆ˜ ì‚¬ìš© (ê¶Œì¥)
    /// infoLog("Video loaded")
    /// warningLog("Low memory")
    /// errorLog("File not found")
    /// ```
    func log(_ message: String, level: LogLevel = .info) {
        // 1. LogEntry ìƒì„±
        // - í˜„ì¬ ì‹œê° ìë™ ê¸°ë¡
        // - ë©”ì‹œì§€ì™€ ë ˆë²¨ ì €ì¥
        let entry = LogEntry(timestamp: Date(), message: message, level: level)

        // 2. ìŠ¤ë ˆë“œ ì•ˆì „ ì˜ì—­ ì‹œì‘
        lock.lock()

        // 3. ë¡œê·¸ ì¶”ê°€
        // - @Publishedì´ë¯€ë¡œ SwiftUIê°€ ìë™ ê°ì§€
        // - UIê°€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¨
        logs.append(entry)

        // 4. ìˆœí™˜ ë²„í¼ ìœ ì§€ (ìµœëŒ€ 500ê°œ)
        // 500ê°œ ì´ˆê³¼ ì‹œ ê°€ì¥ ì˜¤ë˜ëœ ë¡œê·¸ ì‚­ì œ
        if logs.count > maxLogs {
            // removeFirst: ë°°ì—´ ì•ë¶€ë¶„ ì‚­ì œ
            // logs.count - maxLogs: ì´ˆê³¼ëœ ê°œìˆ˜ë§Œí¼ ì‚­ì œ
            // ì˜ˆ: 505ê°œ â†’ 5ê°œ ì‚­ì œ â†’ 500ê°œ ìœ ì§€
            logs.removeFirst(logs.count - maxLogs)
        }

        // 5. ìŠ¤ë ˆë“œ ì•ˆì „ ì˜ì—­ ì¢…ë£Œ
        lock.unlock()

        // 6. ì½˜ì†” ì¶œë ¥ (ì¶”ê°€ ë””ë²„ê¹…ìš©)
        // - Xcode ì½˜ì†”ì— ì¦‰ì‹œ í‘œì‹œ
        // - UIì™€ ë³„ë„ë¡œ ë¹ ë¥¸ ë””ë²„ê¹… ê°€ëŠ¥
        // - í”„ë¡œë•ì…˜ì—ì„œëŠ” ì¡°ê±´ë¶€ë¡œ ë¹„í™œì„±í™” ê³ ë ¤
        print("[\(level.displayName)] \(message)")
    }

    /// @brief ëª¨ë“  ë¡œê·¸ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤
    ///
    /// UIì˜ "ë¡œê·¸ ì§€ìš°ê¸°" ë²„íŠ¼ì—ì„œ í˜¸ì¶œë©ë‹ˆë‹¤.
    ///
    /// - Note: ìŠ¤ë ˆë“œ ì•ˆì „
    ///   lockìœ¼ë¡œ ë³´í˜¸ë˜ì–´ ìˆì–´ ë¡œê·¸ ê¸°ë¡ ì¤‘ì— clear() í˜¸ì¶œí•´ë„ ì•ˆì „í•©ë‹ˆë‹¤.
    ///
    /// - Important: @Published ë™ì‘
    ///   logs.removeAll() í˜¸ì¶œ ì‹œ @Publishedê°€ ë³€ê²½ ê°ì§€
    ///   â†’ SwiftUIê°€ ìë™ìœ¼ë¡œ UI ì—…ë°ì´íŠ¸ (ë¡œê·¸ ëª©ë¡ ë¹„ì›Œì§)
    ///
    /// ì‚¬ìš© ì˜ˆ:
    /// ```swift
    /// // SwiftUI ë²„íŠ¼
    /// Button("ë¡œê·¸ ì§€ìš°ê¸°") {
    ///     LogManager.shared.clear()
    /// }
    ///
    /// // í…ŒìŠ¤íŠ¸ ì „ ì´ˆê¸°í™”
    /// override func setUpWithError() throws {
    ///     LogManager.shared.clear()  // ì´ì „ í…ŒìŠ¤íŠ¸ ë¡œê·¸ ì‚­ì œ
    /// }
    /// ```
    func clear() {
        // ìŠ¤ë ˆë“œ ì•ˆì „ ì˜ì—­
        lock.lock()

        // ëª¨ë“  ë¡œê·¸ ì‚­ì œ
        // - removeAll()ì€ ë°°ì—´ì„ ë¹ˆ ë°°ì—´ë¡œ ë§Œë“¦
        // - ë©”ëª¨ë¦¬ ì¦‰ì‹œ í•´ì œ
        logs.removeAll()

        lock.unlock()
    }
}

// MARK: - í¸ì˜ í•¨ìˆ˜ (Convenience Functions)

/*
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ì „ì—­ í¸ì˜ í•¨ìˆ˜                                                                 â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 LogManager.shared.log("message", level: .debug) ëŒ€ì‹ 
 debugLog("message")ë¡œ ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

 ì¥ì :
 1. íƒ€ì´í•‘ ê°„í¸ (4ì¤„ â†’ 1ì¤„)
 2. ê°€ë…ì„± í–¥ìƒ
 3. ë¦¬íŒ©í† ë§ ìš©ì´ (ë‚´ë¶€ êµ¬í˜„ ë³€ê²½í•´ë„ ì‚¬ìš© ì½”ë“œ ì˜í–¥ ì—†ìŒ)

 ë¹„êµ:
 ```swift
 // ê¸°ë³¸ ë°©ì‹ (ì¥í™©í•¨)
 LogManager.shared.log("Starting process", level: .debug)
 LogManager.shared.log("Process complete", level: .info)
 LogManager.shared.log("Low memory", level: .warning)
 LogManager.shared.log("Failed", level: .error)

 // í¸ì˜ í•¨ìˆ˜ (ê°„ê²°í•¨)
 debugLog("Starting process")
 infoLog("Process complete")
 warningLog("Low memory")
 errorLog("Failed")
 ```
 */

/// @brief DEBUG ë ˆë²¨ ë¡œê·¸ ê¸°ë¡
///
/// ê°œë°œ ì¤‘ ìƒì„¸í•œ ë””ë²„ê¹… ì •ë³´ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
/// í”„ë¡œë•ì…˜ì—ì„œëŠ” ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
///
/// @param message ë¡œê·¸ ë©”ì‹œì§€
///
/// ì‚¬ìš© ì˜ˆ:
/// ```swift
/// func parseGPSData(_ data: Data) {
///     debugLog("Entering parseGPSData, data size: \(data.count)")
///
///     let points = extractPoints(data)
///     debugLog("Extracted \(points.count) GPS points")
///
///     debugLog("Exiting parseGPSData")
/// }
/// ```
func debugLog(_ message: String) {
    LogManager.shared.log(message, level: .debug)
}

/// @brief INFO ë ˆë²¨ ë¡œê·¸ ê¸°ë¡
///
/// ì¼ë°˜ì ì¸ ì •ë³´ ë©”ì‹œì§€ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
/// í”„ë¡œë•ì…˜ì—ì„œë„ í™œì„±í™”í•˜ì—¬ ì •ìƒ ë™ì‘ì„ í™•ì¸í•©ë‹ˆë‹¤.
///
/// @param message ë¡œê·¸ ë©”ì‹œì§€
///
/// ì‚¬ìš© ì˜ˆ:
/// ```swift
/// func loadVideoFile(_ path: String) throws {
///     infoLog("Loading video file: \(path)")
///
///     let file = try load(path)
///     infoLog("Video loaded: \(file.duration)s, \(file.channelCount) channels")
/// }
/// ```
func infoLog(_ message: String) {
    LogManager.shared.log(message, level: .info)
}

/// @brief WARNING ë ˆë²¨ ë¡œê·¸ ê¸°ë¡
///
/// ì ì¬ì  ë¬¸ì œë‚˜ ì£¼ì˜ê°€ í•„ìš”í•œ ìƒí™©ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
/// ë™ì‘ì€ ê³„ì†ë˜ì§€ë§Œ ì¡°ì¹˜ê°€ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
///
/// @param message ë¡œê·¸ ë©”ì‹œì§€
///
/// ì‚¬ìš© ì˜ˆ:
/// ```swift
/// func allocateBuffer() {
///     let memoryUsage = getMemoryUsage()
///     if memoryUsage > 0.9 {
///         warningLog("High memory usage: \(memoryUsage * 100)%")
///     }
///
///     if bufferSize > recommendedSize {
///         warningLog("Buffer size exceeds recommended: \(bufferSize)MB")
///     }
/// }
/// ```
func warningLog(_ message: String) {
    LogManager.shared.log(message, level: .warning)
}

/// @brief ERROR ë ˆë²¨ ë¡œê·¸ ê¸°ë¡
///
/// ì‹¬ê°í•œ ì˜¤ë¥˜ë‚˜ ì‹¤íŒ¨ ìƒí™©ì„ ê¸°ë¡í•©ë‹ˆë‹¤.
/// ì¦‰ì‹œ ì¡°ì¹˜ê°€ í•„ìš”í•œ ë¬¸ì œì…ë‹ˆë‹¤.
///
/// @param message ë¡œê·¸ ë©”ì‹œì§€
///
/// ì‚¬ìš© ì˜ˆ:
/// ```swift
/// func initializeDecoder() throws {
///     do {
///         try decoder.initialize()
///     } catch {
///         errorLog("Failed to initialize decoder: \(error.localizedDescription)")
///         throw error
///     }
/// }
/// ```
func errorLog(_ message: String) {
    LogManager.shared.log(message, level: .error)
}
